/**
 * tsconfig.node.json - Node.js/Build Tools TypeScript Configuration
 * ===================================================================
 * This config applies to files that run in Node.js, NOT in the browser.
 * Currently, this is just the Vite configuration file (vite.config.ts).
 *
 * WHY A SEPARATE CONFIG?
 * ======================
 * vite.config.ts runs in Node.js during the build process:
 * - Needs Node.js types (fs, path, process, etc.)
 * - Does NOT need browser types (no DOM, window, etc.)
 * - Can use newer JavaScript features (Node.js updates faster than browsers)
 *
 * WHAT IS VITE?
 * =============
 * Vite is your build tool / dev server. It:
 * - Serves your app during development with hot reload
 * - Bundles your app for production
 * - Compiles TypeScript, handles CSS, optimizes assets
 *
 * The vite.config.ts file configures how Vite does all this.
 */
{
  "compilerOptions": {
    /**
     * ===================
     * BUILD CONFIGURATION
     * ===================
     */

    /**
     * tsBuildInfoFile
     * ===============
     * Where to store incremental build info for faster recompilation.
     * Separate from the app's build info since this is a different project.
     */
    "tsBuildInfoFile": "./node_modules/.tmp/tsconfig.node.tsbuildinfo",

    /**
     * target
     * ======
     * Which JavaScript version to compile to.
     *
     * ES2023 is used here because Node.js supports newer features than browsers.
     * Vite requires Node.js 18+, which fully supports ES2023.
     *
     * Note: This is ES2023 vs ES2022 in the app config - Node.js can be more modern!
     */
    "target": "ES2023",

    /**
     * lib
     * ===
     * Which built-in type definitions to include.
     *
     * Only ES2023 here - NO "DOM" types!
     * Node.js doesn't have document, window, or browser APIs.
     *
     * Compare to tsconfig.app.json which includes "DOM" and "DOM.Iterable".
     */
    "lib": ["ES2023"],

    /**
     * module
     * ======
     * ESNext module system for Vite config.
     * Vite itself uses ES modules, so the config does too.
     */
    "module": "ESNext",

    /**
     * types
     * =====
     * Include Node.js type definitions.
     *
     * "node" gives you types for:
     * - process.env
     * - require (if needed)
     * - Node.js built-in modules (fs, path, etc.)
     *
     * Compare to tsconfig.app.json which uses "vite/client" instead.
     */
    "types": ["node"],

    /**
     * skipLibCheck
     * ============
     * Skip type checking of declaration files for faster builds.
     */
    "skipLibCheck": true,

    /**
     * ============
     * BUNDLER MODE
     * ============
     * Same bundler-mode settings as the app config.
     */

    /**
     * moduleResolution: "bundler"
     * ===========================
     * Use modern module resolution that matches how bundlers work.
     */
    "moduleResolution": "bundler",

    /**
     * allowImportingTsExtensions
     * ==========================
     * Allow .ts extensions in imports.
     */
    "allowImportingTsExtensions": true,

    /**
     * verbatimModuleSyntax
     * ====================
     * Enforce explicit type-only imports.
     */
    "verbatimModuleSyntax": true,

    /**
     * moduleDetection: "force"
     * ========================
     * Treat all files as ES modules.
     */
    "moduleDetection": "force",

    /**
     * noEmit
     * ======
     * Don't output JavaScript - just type-check.
     * Vite processes the config file directly using esbuild.
     */
    "noEmit": true,

    /**
     * =======
     * LINTING
     * =======
     * Same strict settings as the app config for consistency.
     */

    /**
     * strict
     * ======
     * Enable all strict type checking.
     */
    "strict": true,

    /**
     * noUnusedLocals
     * ==============
     * Error on unused local variables.
     */
    "noUnusedLocals": true,

    /**
     * noUnusedParameters
     * ==================
     * Error on unused function parameters.
     */
    "noUnusedParameters": true,

    /**
     * erasableSyntaxOnly
     * ==================
     * Only allow TypeScript syntax that can be cleanly removed.
     */
    "erasableSyntaxOnly": true,

    /**
     * noFallthroughCasesInSwitch
     * ==========================
     * Error on switch case fallthrough.
     */
    "noFallthroughCasesInSwitch": true,

    /**
     * noUncheckedSideEffectImports
     * ============================
     * Verify side-effect imports exist.
     */
    "noUncheckedSideEffectImports": true
  },

  /**
   * include
   * =======
   * Which files this config applies to.
   *
   * ONLY "vite.config.ts" - this config is very targeted.
   *
   * If you add other Node.js config files (like eslint.config.js
   * if it were TypeScript), you'd add them here.
   *
   * LEARNING POINT: This separation is why your IDE knows that
   * vite.config.ts can use Node.js APIs but src/App.tsx cannot!
   */
  "include": ["vite.config.ts"]
}
